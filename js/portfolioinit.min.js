/*global jQuery:false */

// Dependencies: jquery.shuffle.modernizr.min.js

(function ($) {
    "use strict";
	
    $(document).ready(function() {
		var portfolio = $('#portfolio-list'), filterOptions = $('.filter-options');

		portfolio.shuffle({
			itemSelector: '[class*="col-"]',
			sizer: null,
			speed: 250, // Transition/animation speed (milliseconds).
			easing: 'ease-out', // CSS easing function to use.
			buffer: 0, // Useful for percentage based heights when they might not always be exactly the same (in pixels).
			initialSort: null, // Shuffle can be initialized with a sort object. It is the same object given to the sort method.
			throttleTime: 300, // How often shuffle can be called on resize (in milliseconds).
			sequentialFadeDelay: 150, // Delay between each item that fades in when adding items.
		});

		var btns = filterOptions.find('.btn');
		btns.on('click', function() {
			var btn = $(this), isActive = btn.hasClass( 'active' ),
			group = isActive ? 'all' : btn.data('group');

			// Already active?
			if ( isActive ) {
				return false;
			}

			filterOptions.find('.btn').removeClass("active");
			btn.addClass("active");

			// Filter elements
			portfolio.shuffle( 'shuffle', group );
		});

		btns = null;

	});
    
}(jQuery));